package com.tl.hades.persist;

import com.ls.pf.base.utils.tools.StringUtils;

import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.IOException;
import java.net.Socket;

public class SocketUtil_other {

//	public static final String IP_ADDR = "127.0.0.1"; //服务器地址
	public static final String IP_ADDR = "39.107.24.209";
	public static final int PORT = 9599;

	public static void main(String[] args) {
		System.out.println("INITIATED...");
		Socket socket = null;
		try {
			socket = new Socket(IP_ADDR, PORT);
			// 读取服务器端数据
			DataInputStream input = new DataInputStream(socket.getInputStream());
			DataOutputStream output = new DataOutputStream(
					socket.getOutputStream());
			RevThread_other recvThread = new RevThread_other(input);
			recvThread.start();
			SendThread_other sendThread = new SendThread_other(output);
			sendThread.start();
		} catch (Exception e1) {
			e1.printStackTrace();
		}

		try {
			//创建一个流套接字并将其连接到指定主机上的指定端口号
			while (true) {
				Thread.sleep(1000);
			}
		} catch (Exception e) {
			System.out.println("CLIENT MISBEHAVIOR:" + e.getMessage());
			e.printStackTrace();
		} finally {
			if (socket != null) {
				try {
					socket.close();
				} catch (IOException e) {
					socket = null;
					System.out.println("CLIENT MISBEHAVIOR:" + e.getMessage());
				}
			}
		}
	}
}

class RevThread_other extends Thread {

	DataInputStream is;

	public RevThread_other(DataInputStream is) {
		this.is = is;
	}

	@Override
	public void run() {
		try {
			while (true) {
				byte[] bytes = new byte[1024];
				is.read(bytes);
				System.out.println("RETURN FROM SERVER: " + new String(bytes));
				Thread.sleep(10);
			}
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
}

class SendThread_other extends Thread {

	DataOutputStream os;

	public SendThread_other(DataOutputStream os) {
		this.os = os;
	}

	@SuppressWarnings("static-access")
	@Override
	public void run() {
		String[] str0={"A82E000100030000000000000000000000000AA9A5656D8906000000689A009A0068C87103E5290010730000020101390846040001060110010006031111111111111111111111114A16",
				"A82D000100030000000000000000000000000AA9A5656D8906000000689600960068C87103E529001073000002010139084604000106010F0107300311111111111111111111116916",
				"A831000100030000000000000000000000000AA9A5656D890600000068A600A60068C87103E529001073000002010139084604000106011301123003111111111111111111111111111111BC16",
				"A880000100030000000000000000000000000AA9A5656D890600000068E201E20168C87103E529001073000002010139084604000106016201063003111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111113E16",
				"A856000100030000000000000000000000000AA9A5656D8906000000683A013A0168C87103E529001073000002010139084604000106013801053003111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111114916",
				"A84C000100030000000000000000000000000AA9A5656D8906000000681201120168C87103E529001073000002010139084604000106012E010F30031111111111111111111111111111111111111111111111111111111111111111111111111111111111119F16",
				"A835000100030000000000000000000000000AA9A5656D890600000068B600B60068C87103E52900107300000201013908460400010601170100340311111111111111111111111111111111111111F616",
				"A8AC000100030000000000000000000000000AA9A5656D8906000000689202920268C87103E529001073000002010139084604000106018E011030031111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116016",
				"A83E000100030000000000000000000000000AA9A5656D890600000068DA00DA0068C87103E529001073000002010139084604000106012001003503111111111111111111111111111111111111111111111111111111119916",
				"A83E000100030000000000000000000000000AA9A5656D890600000068DA00DA0068C87103E529001073000002010139084604000106012001003703111111111111111111111111111111111111111111111111111111119B16",
				"A854000100030000000000000000000000000AA9A5656D8906000000683201320168C87103E52900107300000201013908460400010601360100300311111111111111111111FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5016",
				"A83F000100030000000000000000000000000AA9A5656D890600000068DE00DE0068C87103E5290010730000020101390846040001060121010036031111111111111111111111111111111111111111111111111111111111AC16",
				"A8E5000100030000000000000000000000000AA9A5656D8906000000687603760368C87103E52900107300000201013908460400010601C701FF01101111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111112F16",
				"A8AE000100030000000000000000000000000AA9A5656D8906000000689A029A0268C87103E529001073000002010139084604000106019001FF001411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111115416",
				"A8B1000100030000000000000000000000000AA9A5656D890600000068A602A60268C87103E529001073000002010139084604000106019301FF001611111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111118C16",
				"A8D5000100030000000000000000000000000AA9A5656D8906000000683603360368C87103E52900107300000201013908460400010601B701FF011811111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111716",
				"A8AB000100030000000000000000000000000AA9A5656D8906000000688E028E0268C87103E529001073000002010139084604000106018D01FF002011111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111112A16",
				"A8AE000100030000000000000000000000000AA9A5656D8906000000689A029A0268C87103E529001073000002010139084604000106019001FF011B11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111115C16",
				"A844000100030000000000000000000000000AA9A5656D890600000068F200F20068C87103E529001073000002010139084604000106012601FF001D11111111111111111111111111111111111111111111111111111111111111111111E916",
				"A84E000100030000000000000000000000000AA9A5656D8906000000681A011A0168C87103E529001073000002010139084604000106013001FF001F11111111111111111111111111111111111111111111111111111111111111111111111111111111111111119F16",
				"A869000100030000000000000000000000000AA9A5656D8906000000688601860168C87103E529001073000002010139084604000106014B0100002111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111118816",
				"A836000100030000000000000000000000000AA9A5656D890600000068BA00BA0068C87103E5290010730000020101390846040001060118010612031111111111111111111111111111111111111111EC16",
				"A836000100030000000000000000000000000AA9A5656D890600000068BA00BA0068C87103E5290010730000020101390846040001060118010512031111111111111111111111111111111111111111EB16",
				"A836000100030000000000000000000000000AA9A5656D890600000068BA00BA0068C87103E5290010730000020101390846040001060118010412031111111111111111111111111111111111111111EA16",
				"A836000100030000000000000000000000000AA9A5656D890600000068BA00BA0068C87103E5290010730000020101390846040001060118010312031111111111111111111111111111111111111111E916",
				"A836000100030000000000000000000000000AA9A5656D890600000068BA00BA0068C87103E5290010730000020101390846040001060118010212031111111111111111111111111111111111111111E816",
				"A836000100030000000000000000000000000AA9A5656D890600000068BA00BA0068C87103E5290010730000020101390846040001060118010112031111111111111111111111111111111111111111E716",
				"A86E000100030000000000000000000000000AA9A5656D8906000000689A019A0168C87103E5290010730000020101390846040001060150010E3003111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110216",
				"A85E000100030000000000000000000000000AA9A5656D8906000000685A015A0168C87103E5290010730000020101390846040001060140010D3003111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111E116",
				"A832000100030000000000000000000000000AA9A5656D890600000068AA00AA0068C87103E5290010730000020101390846040001060114010C300311111111111111111111111111111111C816",
				"A82D000100030000000000000000000000000AA9A5656D8906000000689600960068C87103E529001073000002010139084604000106010F010B300311111111111111111111116D16",
				"A82D000100030000000000000000000000000AA9A5656D8906000000689600960068C87103E529001073000002010139084604000106010F010A300311111111111111111111116C16",
				"A82D000100030000000000000000000000000AA9A5656D8906000000689600960068C87103E529001073000002010139084604000106010F0109300311111111111111111111116B16",
				"A832000100030000000000000000000000000AA9A5656D890600000068AA00AA0068C87103E52900107300000201013908460400010601140104300311111111111111111111111111111111C016",
				"A830000100030000000000000000000000000AA9A5656D890600000068A200A20068C87103E52900107300000201013908460400010601120103300311111111111111111111111111119B16",
				"A88C000100030000000000000000000000000AA9A5656D8906000000681202120268C87103E529001073000002010139084604000106016E01013003111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116",
				"A831000100030000000000000000000000000AA9A5656D890600000068A600A60068C87103E5290010730000020101390846040001060113010005031111111111111111111111111111117F16",
				"A82E000100030000000000000000000000000AA9A5656D8906000000689A009A0068C87103E5290010730000020101390846040001060110010011031111111111111111111111115516"};
		try {
			int i=0;
			while (true) {
				String gx7="A85A000100030000000000000000000000000AAFF1A4DA6F08000000684A014A0168C40041D2040015F800004000011111110E34201703000222048153452345234723000000000000000000000000EEEEEEEEEE040067060000006706000000000000000000000000000000000078000322040A3D16";
				String gx8="A88A000100030000000000000000000000000AAFF1A4DA6F08000000680A020A0268E40041D2040015FE000080000041D20417A6B024025711048719025711048719EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE0104003412000000040000000030000000000002000000001000000034120000000400000000300000000000020000000010000044080E185711040AAB16";
				String gx80="A82E000100030000000000000000000000000AAFF1A4DA6F08000000689A009A0068E40041D2040015F20000800957110407190612040719123456789ABCDEF2470802080712040A0D16";
				String gx88="A830000100030000000000000000000000000AAFF1A4DA6F0800000068A200A20068E40041D2040015F70000800A4811040719EEEEEEEEEE0F01123456789ABCDEF23C0807554811040A0516";
				String gx89="A82A000100030000000000000000000000000AAFF1A4DA6F08000000688A008A0068E40041D2040015FD0000010B571104071901123456789ABCDEF242080D145711040AC116";
				String gx90="A82A000100030000000000000000000000000AAFF1A4DA6F08000000688A008A0068E40041D2040015FD0000020B0300050153011111110E3420170316000D000500050A5D16";
				String jjDet="A8540001000E0000000000000000000000000B05F8EE5CD7104B0000683201320168883641AD7B1C1EE3000001000100C5010000014352210400000000180113200719320613200719010067120100589003006612010059900300000000010100000001000000015351361010008716";
				String bw= "A84500010001000000000000000000000000B79C681A9BAE0B00000068F600F60068C40111354E020DE0010301180120040920012004EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE302808092000EB16";

//				bw=str0[i];
				String str=bw;//数据项
				i++;
				byte[] data = StringUtils.decodeHex(str);
				
				os.write(data);
	
				os.flush();
				System.out.println("TERMINAL_SIM==" + str);
				Thread.sleep(5000);
				if(i==str0.length){
					break;
				}
			}
		} catch (Exception e) {
			e.printStackTrace();
		}

	}

}
